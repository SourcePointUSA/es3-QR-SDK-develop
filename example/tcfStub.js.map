{"version":3,"file":"tcfStub.js","sources":["../tcfapi/src/tcfstub.js"],"sourcesContent":["// tcfapi-stub.js\n\n(function() {\n  // --------------------------------------------------------------------------------\n  // 1) Wir legen ein einfaches Array an, in dem alle __tcfapi-Aufrufe zwischengespeichert werden:\n  // --------------------------------------------------------------------------------\n  var tcfApiQueue = [];\n\n  // --------------------------------------------------------------------------------\n  // 2) Stub-Implementierung von __tcfapi, die nur in die Queue schreibt:\n  // --------------------------------------------------------------------------------\n  window.__tcfapi = function(command, version, callback, parameter) {\n    // Alle Parameter in die Queue packen\n    tcfApiQueue.push({\n      command:   command,\n      version:   version,\n      callback:  callback,\n      parameter: parameter\n    });\n  };\n\n  // --------------------------------------------------------------------------------\n  // 3) Sobald die „echte“ Implementierung von __tcfapi geladen ist, soll sie uns\n  //    das Queue-Array übergeben – damit die Aufrufe nachträglich abgearbeitet werden:\n  // --------------------------------------------------------------------------------\n  window.__tcfapi.pushQueue = function(realTcApiFunction) {\n    // 'realTcApiFunction' ist später der Verweis auf die echte __tcfapi-Funktion\n    // Wir leiten jeden einzelnen gespeicherten Eintrag weiter:\n    while (tcfApiQueue.length) {\n      var entry = tcfApiQueue.shift();\n      try {\n        // Aufruf an die echte __tcfapi-Funktion:\n        realTcApiFunction(\n          entry.command,\n          entry.version,\n          entry.callback,\n          entry.parameter\n        );\n      } catch (e) {\n        console.warn('[tcfapi-stub] Fehler beim Abarbeiten der Queue:', e);\n      }\n    }\n  };\n\n  // --------------------------------------------------------------------------------\n  // 4) Falls später die echte __tcfapi‐Implementierung lädt und sich meldet, wird\n  //    sie diese pushQueue()-Methode aufrufen:\n  // --------------------------------------------------------------------------------\n})();\n"],"names":["tcfApiQueue","window","__tcfapi","command","version","callback","parameter","push","pushQueue","realTcApiFunction","length","entry","shift","e","console","warn"],"mappings":"yBAEA,IAIMA,IAAc,GAKlBC,OAAOC,SAAW,SAASC,EAASC,EAASC,EAAUC,GAErDN,EAAYO,KAAK,CACfJ,QAAWA,EACXC,QAAWA,EACXC,SAAWA,EACXC,UAAWA,GAEd,EAMDL,OAAOC,SAASM,UAAY,SAASC,GAGnC,KAAOT,EAAYU,QAAQ,CACzB,IAAIC,EAAQX,EAAYY,QACxB,IAEEH,EACEE,EAAMR,QACNQ,EAAMP,QACNO,EAAMN,SACNM,EAAML,UAET,CAAC,MAAOO,GACPC,QAAQC,KAAK,kDAAmDF,EACxE,CACA,CACG"}