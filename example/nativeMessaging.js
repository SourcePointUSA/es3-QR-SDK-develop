function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}!function(){var e=!1,t=null,n=window.console||{log:function(){return!0},error:function(){document.write(v)}};"undefined"==typeof _sp_&&n.error("_sp_ - object undefined");var r,a,o,s="2.0.0",c="nativeqr",i=X("consentUUID"),p=X("sp_su"),d=X("authId")||_sp_.config.authId,u=Math.floor(1e6*Math.random()),g=(_sp_.config.baseEndpoint,_sp_.config.propertyHref),l=_sp_.config.propertyId,f=_sp_.config.accountId,m=_sp_.config.consentLanguage||"EN",y=_sp_.config.isSPA,S=(_sp_.config.isJSONp,_sp_.config.baseEndpoint),_=X("consentDate_"+l),h=F("euconsent-v2_"+l),I=F("consentStatus_"+l)||null,D=F("localState_"+l);r=S+"/wrapper/v2/meta-data",a={hasCsp:"true",accountId:f,env:"prod",metadata:'{"gdpr":{}}',propertyId:l,scriptVersion:s,scriptType:c},o=JSON.parse(P(B(r,a))),C=o,n.log(C),G("metaData_"+l,C);var C=F("metaData_"+l),w=C.gdpr.applies,O=F("vendorGrants_"+l),R=F("nonKeyedLocalState_"+l),N=F("consentedPurposes_"+l),J=_sp_.config.messageDiv,T=_sp_.config.pmDiv,U=_sp_.config.pmId,b=null,A=null,M=(D=null,!1);null==i&&q("consentUUID",i=H(),365),null==d&&q("authId",d=H(),365),window.JSON||(window.JSON={stringify:function(e){var t=_typeof(e);if("object"!=t||null===e)return"string"==t&&(e='"'+e+'"'),String(e);var n,r,a=[],o=e&&e.constructor==Array;for(n in e)"string"==(t=_typeof(r=e[n]))?r='"'+r+'"':"object"==t&&null!==r&&(r=JSON.stringify(r)),a.push((o?"":'"'+n+'":')+String(r));return(o?"[":"{")+String(a)+(o?"]":"}")}}),"function"!=typeof JSON.parse&&(JSON.parse=function(e){try{return new Function("return "+e)()}catch(e){throw new SyntaxError("JSON.parse: ung√ºltiges JSON-Format")}}),window._sp_.config.events=window._sp_.config.events||{};var V=function(e,t){var n=window._sp_.config.events[e];"function"==typeof n&&n.apply(null,t||[])};function L(){V("onConsentReady",[i,h,O,I,N])}function x(e){var t=document.getElementById(e);t&&(t.style.display="block")}function E(e){var t=document.getElementById(e);t&&(t.style.display="none")}function P(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}function j(e,t){var n="object"===_typeof(e)&&e instanceof Date?e:new Date(e),r="object"===_typeof(t)&&t instanceof Date?t:new Date(t),a=n.getTime(),o=r.getTime();return a<o?-1:a>o?1:0}function B(e,t){var n=e+"?",r=[];for(var a in t)t.hasOwnProperty(a)&&r.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]));return n+r.join("&")}function H(){for(var e,t="0123456789abcdef".split(""),n=[],r=Math.random,a=0;a<36;a++)8===a||13===a||18===a||23===a?n[a]="-":14===a?n[a]="4":(e=0|16*r(),n[a]=t[19===a?3&e|8:e]);return n.join("")}function q(e,t,n){var r="";if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),r="; expires="+a.toUTCString()}document.cookie=e+"="+encodeURIComponent(t)+r+"; path=/"}function k(){if(n.log("startGetMessages"),a=!1,null===I||!I.consentedAll||(null!==_&&(1===j(C.gdpr.legalBasisChangeDate,_)&&(I.legalBasisChanges=!0,a=!0),1===j(C.gdpr.additionsChangeDate,_)&&(I.vendorListAdditions=!0,a=!0)),a)){n.log("notconsentedTOAll requesting message");var t=S+"/wrapper/v2/messages"+"?hasCsp=true&env=prod&body="+K({accountId:f,campaignEnv:"prod",campaigns:{gdpr:{consentStatus:I,hasLocalData:e,targetingParams:{}}},clientMMSOrigin:S,hasCSP:!0,includeData:{localState:{type:"string"},actions:{type:"RecordString"},cookies:{type:"RecordString"}},propertyHref:g,propertyId:l,authId:d})+"&localState="+K(D)+"&metadata="+K(C)+"&nonKeyedLocalState="+K(R)+"&ch="+u+"&scriptVersion="+s+"&scriptType="+c,r=JSON.parse(P(t));D=r.localState,G("localState_"+l,JSON.parse(r.localState)),R=r.nonKeyedLocalState,G("nonKeyedLocalState_"+l,JSON.parse(r.nonKeyedLocalState)),!function(e){if(e.campaigns&&Array.isArray(e.campaigns))for(var t=0;t<e.campaigns.length;t++){var n=e.campaigns[t];if(n.message&&n.message.message_json)return A=n.messageMetaData,b=n.messageMetaData.messageId,n.message.message_json}return!1}(r)?L():x(J)}else L();var a;!function(){if(function(e){if(!p){var t=Math.random();p=t<e,q("sp_su",JSON.stringify(p),365)}}(C.gdpr.sampleRate),"true"===p){var e={gdpr:{applies:!0,consentStatus:I,accountId:f,euconsent:h,mmsDomain:S,propertyId:l,siteId:l,pubData:{},uuid:i,sampleRate:C.gdpr.sampleRate,withSiteActions:!0}};A&&(e.gdpr.categoryId=A.categoryId,e.gdpr.subCategoryId=A.subCategoryId,e.gdpr.msgId=A.messageId,e.gdpr.prtnUUID=A.prtnUUID);var t=Y(S+"/wrapper/v2/pv-data?hasCsp=true&env=prod&ch="+u+"&scriptVersion="+s+"&scriptType="+c);t.onreadystatechange=function(){if(4===t.readyState&&200===t.status)JSON.parse(t.responseText);else n.error("error:",t.responseText)},t.send(JSON.stringify(e))}}()}function K(e){return"string"==typeof e?encodeURIComponent(e):encodeURIComponent(JSON.stringify(e))}function G(e,t){if(void 0!==window.localStorage)try{window.localStorage.setItem(e,JSON.stringify(t))}catch(n){q(e,JSON.stringify(t),365)}else q(e,JSON.stringify(t),365)}function F(e){if(void 0===window.localStorage)return JSON.parse(decodeURIComponent(X(e)));try{return JSON.parse(window.localStorage.getItem(e))}catch(t){return JSON.parse(decodeURIComponent(X(e)))}}function X(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].trim();if(0===r.indexOf(e+"="))return r.substring((e+"=").length,r.length)}return null}function z(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}function Q(e){if(void 0!==window.localStorage)try{window.localStorage.removeItem(e)}catch(t){z(e)}else z(e)}function W(e,t,n,r,a,o){I=e,G("consentStatus_"+l,e),i=t,q("consentUUID",t,365),consentDate=n,q("consentDate_"+l,n,365),h=r,G("euconsent-v2_"+l,r),G("vendorGrants_"+l,a),O=a,G("consentedPurposes_"+l,o),N=o,L()}function Y(e){var t=new XMLHttpRequest;return t.open("POST",e,!1),t.setRequestHeader("accept","*/*"),t.setRequestHeader("accept-language","de,en;q=0.9"),t.setRequestHeader("content-type","application/json"),t}function Z(){return"true"===p}_sp_.executeMessaging=function(){E(T),E(J),k(),n.log("Messaging executed!")},_sp_.loadPrivacyManagerModal=function(){x(T),E(J)},_sp_.acceptAll=function(){E(T),E(J),function(){var e=_sp_.config.baseEndpoint+"/wrapper/v2/choice/consent-all",r={hasCsp:"true",authId:d,accountId:f,env:"prod",includeCustomVendorsRes:"true",metadata:JSON.stringify(C),propertyId:l,withSiteActions:"true",ch:u,scriptVersion:s,scriptType:c},a=[];for(var o in r)r.hasOwnProperty(o)&&a.push(encodeURIComponent(o)+"="+encodeURIComponent(r[o]));var p=P(e+"?"+a.join("&"));(function(e){e.gdpr.consentStatus.granularStatus,t=e.gdpr.consentAllRef,w=e.gdpr.gdprApplies,h=e.gdpr.euconsent,N=e.gdpr.categories;var r=S+"/wrapper/v2/choice/gdpr/11?hasCsp=true&env=prod&ch="+u+"&scriptVersion="+s+"&scriptType="+c,a={accountId:f,applies:w,authId:d,messageId:b,mmsDomain:S,propertyId:l,pubData:{},includeData:{actions:{type:"RecordString"},customVendorsResponse:{type:"RecordString"}},uuid:i,sampleRate:C.gdpr.sampleRate,sendPVData:Z(),consentAllRef:t,granularStatus:I,vendorListId:e.gdpr.vendorListId},o=Y(r);o.onreadystatechange=function(){if(4===o.readyState&&200===o.status){var t=JSON.parse(o.responseText);W(e.gdpr.consentStatus,t.uuid,t.dateCreated,h,e.gdpr.grants,N)}else n.error("error:",o.responseText)},o.send(JSON.stringify(a))})(JSON.parse(p)),E(J)}()},_sp_.continue=function(){var e,t,r,a;E(T),E(J),e=S+"/consent/tcfv2/consent/v3/"+l+"/li-only",t=JSON.parse(P(e)),r=Y(S+"/wrapper/v2/choice/gdpr/1?hasCsp=true&env=prod&ch="+u+"&scriptVersion="+s+"&scriptType="+c),a={accountId:f,applies:w,authId:d,messageId:b,mmsDomain:S,propertyId:l,pubData:{},includeData:{actions:{type:"RecordString"},customVendorsResponse:{type:"RecordString"}},uuid:i,sampleRate:C.gdpr.sampleRate,sendPVData:Z(),pmSaveAndExitVariables:t},r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var e=JSON.parse(r.responseText);W(e.consentStatus,e.uuid,e.dateCreated,e.euconsent,e.grants,e.categories)}else n.error("error:",r.responseText)},r.send(JSON.stringify(a))},_sp_.reject=function(){E(T),E(J),function(){var e=S+"/wrapper/v2/choice/reject-all",r={hasCsp:"true",authId:d,accountId:f,env:"prod",includeCustomVendorsRes:"true",metadata:JSON.stringify(C),propertyId:l,withSiteActions:"true",ch:u,scriptVersion:s,scriptType:c},a=[];for(var o in r)r.hasOwnProperty(o)&&a.push(encodeURIComponent(o)+"="+encodeURIComponent(r[o]));var p=P(e+"?"+a.join("&"));(function(e){e.gdpr.consentStatus.granularStatus,t=e.gdpr.consentAllRef,w=e.gdpr.gdprApplies;var r=Y(S+"/wrapper/v2/choice/gdpr/13?hasCsp=true&env=prod&ch="+u+"&scriptVersion="+s+"&scriptType="+c),a={accountId:f,applies:w,authId:d,messageId:b,mmsDomain:S,propertyId:l,pubData:{},includeData:{actions:{type:"RecordString"},customVendorsResponse:{type:"RecordString"}},uuid:i,sampleRate:C.gdpr.sampleRate,sendPVData:Z()};r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var e=JSON.parse(r.responseText);W(e.consentStatus,e.uuid,e.dateCreated,e.euconsent,e.grants,e.categories)}else n.error("error:",r.responseText)},r.send(JSON.stringify(a))})(JSON.parse(p)),E(J)}()},_sp_.consentStatus=function(){return I},_sp_.getTcString=function(){return h},_sp_.clearUserData=function(){return z("authId"),z("consentUUID"),Q("metaData_"+l),z("consentDate_"+l),Q("consentStatus_"+l),Q("euconsent-v2_"+l),Q("localState_"+l),Q("nonKeyedLocalState_"+l),Q("vendorGrants_"+l),z("sp_su"),!0},_sp_.updateConsentStatus=function(){E(T),E(J),function(){if(n.log(I),null===I||!I.consentedAll){var t=S+"/wrapper/v2/consent-status",r={hasCsp:"true",accountId:f,env:"prod",localState:D,nonKeyedLocalState:R,metadata:JSON.stringify(C),propertyId:l,withSiteActions:"true",authId:d,ch:u,scriptVersion:s,scriptType:c};n.log(r);var a=JSON.parse(P(B(t,r)));n.log(a),void 0!==_typeof(a.consentStatusData.gdpr)&&(e=!0,W(a.consentStatusData.gdpr.consentStatus,a.consentStatusData.gdpr.consentUUID,a.consentStatusData.gdpr.dateCreated,a.consentStatusData.gdpr.euconsent,a.consentStatusData.gdpr.grants,a.consentStatusData.gdpr.categories))}}(),k()},y||executeMessaging(),M||function(){var e=JSON.parse(P(S+"/consent/tcfv2/vendor-list/categories?siteId="+l+"&consentLanguage="+m));!function(e){var t=document.getElementById(_sp_.config.qrId);if(t){var n=(new Date).getTime(),r=-1===e.indexOf("?")?"?":"&";t.src=e+r+"t="+n}}(_sp_.config.qrUrl+encodeURIComponent(_sp_.config.pmUrl+"?authid="+d+"&consentlanguage="+m+"&propertyid="+l+"&propertyhref="+g+"&accountid="+f+"&pmid="+U));for(var t=document.getElementsByClassName("all_vendor_count"),r=0;r<t.length;r++)t[r].innerHTML=e.allVendorCount;var a=document.getElementsByClassName("iab_vendor_count");for(r=0;r<a.length;r++)a[r].innerHTML=e.iabVendorCount;var o=document.getElementById("stack_template");if(o){for(var s=o.innerHTML,c=document.getElementsByClassName("sp_stacks"),i=document.getElementsByClassName("sp_purposes"),p=document.createDocumentFragment(),u=document.createDocumentFragment(),y=0;y<e.categories.length;y++){var _=e.categories[y],v=s;v=v.replace("{name}",_.name||"").replace("{description}",_.description||"");var h=document.createElement("div");for(h.innerHTML=v;h.firstChild;)"IAB_STACK"===_.type?p.appendChild(h.firstChild):"IAB_PURPOSE"===_.type&&u.appendChild(h.firstChild)}for(var I=0;I<c.length;I++)c[I].appendChild(p.cloneNode(!0));for(I=0;I<i.length;I++)i[I].appendChild(u.cloneNode(!0));M=!0,V("onMessageComposed")}else n.error("Template with ID 'stack_template' not found.")}()}();