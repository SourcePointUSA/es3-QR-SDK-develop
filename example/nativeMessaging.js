function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var env="prod",scriptVersion="3.0.0",scriptType="nativeqr";window.JSON||(window.JSON={stringify:function(e){var t=_typeof(e);if("object"!=t||null===e)return"string"==t&&(e='"'+e+'"'),String(e);var n,o,a=[],s=e&&e.constructor==Array;for(n in e)"string"==(t=_typeof(o=e[n]))?o='"'+o+'"':"object"==t&&null!==o&&(o=JSON.stringify(o)),a.push((s?"":'"'+n+'":')+String(o));return(s?"[":"{")+String(a)+(s?"]":"}")}}),JSON.parse=function(e){try{return new Function("return "+e)()}catch(e){return onError("001","JSON.parse: ungültiges JSON-Format"),null}};var isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)};function sp_init(e){window._sp_=window._sp_||{},_sp_.config=e,"function"==typeof _sp_.init?_sp_.init(e):onError("003","No init method found")}Object.keys||(Object.keys=function(e){e!==Object(e)&&onError("002","Object.keys called on a non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),function(){window.handleMetaDataForJsonP=function(e){f=e.gdpr.applies,oe("metaData_"+s,D=e),k()},window.handleMessageDataForJsonP=function(e){V=e,le()},window.handleGetMessagesForJsonP=function(e){j=e.localState,oe("localState_"+s,JSON.parse(e.localState)),I=e.nonKeyedLocalState,oe("nonKeyedLocalState_"+s,JSON.parse(e.nonKeyedLocalState)),z(e)?B(g):P()},window.handleGetConsentStatusForJsonP=function(e){void 0!==_typeof(e.consentStatusData.gdpr)&&(N=!0,ce(e.consentStatusData.gdpr.consentStatus,e.consentStatusData.gdpr.uuid,e.consentStatusData.gdpr.dateCreated,e.consentStatusData.gdpr.euconsent,e.consentStatusData.gdpr.grants,e.consentStatusData.gdpr.acceptedCategories,e.consentStatusData.gdpr.acceptedVendors,e.consentStatusData.gdpr.legIntVendors,e.consentStatusData.gdpr.legIntCategories))},window.handlePvResponse=function(e){return!0},window.handleAcceptAllResponse=function(e){e&&e.gdpr?ne(e):q("Invalid response in handleAcceptAllResponse")},window.handleJsonpAcceptAllCall=function(e){e?ce(m,e.uuid,e.dateCreated,_,C,S,w,h,v):q("Invalid response in handleJsonpAcceptAllCall")},window.handleLiOnlyResponse=function(e){ee(e)},window.handleLiOnlyCall=function(e){ce(e.consentStatus,e.uuid,e.dateCreated,e.euconsent,e.grants,e.acceptedCategories,e.acceptedVendors,e.legIntVendors,e.legIntCategories)},window.handleRejectAllResponse=function(e){te(e)},window.handleRejectAllCall=function(e){ce(e.consentStatus,e.uuid,e.dateCreated,e.euconsent,e.grants,e.acceptedCategories,e.acceptedVendors,e.legIntVendors,e.legIntCategories)};var e,t,n,o,a,s,r,i,c,p,d,l,u,g,f,y,_,m,S,v,h,w,I,C,D,R,O,T,V,J=function(e,t){var n=window._sp_.config.events[e];"function"==typeof n&&n.apply(null,t||[])},N=!1,b=null,A=null,E=Math.floor(1e6*Math.random()),L=null,U=null,j=null,M=!1;function x(J){var b,A,L,U,x,P,K,z,Y,Z,pe;(_sp_.config=J,J=J||_sp_&&_sp_.config,window._sp_.config.events=window._sp_.config.events||{},_sp_.version=scriptVersion,a=_sp_.config.accountId,i=_sp_.config.consentLanguage||"EN",c=_sp_.config.isSPA,p=_sp_.config.isJSONp,proxyEndpoint=_sp_.config.proxyEndpoint.replace(/\/+$/,""),p&&"undefined"==typeof proxyEndpoint)?q("004","jsonPProxyEndpoint is undefined"):(e=_sp_.config.baseEndpoint.replace(/\/+$/,""),R=_sp_.config.exposeGlobals,disableLocalStorage=_sp_.config.disableLocalStorage,O=_sp_.config.cookieDomain,T=_sp_.config.secondScreenTimeOut,r=_sp_.config.propertyHref,s=_sp_.config.propertyId,d=se("consentDate_"+s),_=ae("euconsent-v2_"+s),m=ae("consentStatus_"+s)||null,j=ae("localState_"+s),D=ae("metaData_"+s),C=ae("vendorGrants_"+s),I=ae("nonKeyedLocalState_"+s),S=ae("acceptedCategories_"+s),w=ae("acceptedVendors_"+s),v=ae("legIntCategories_"+s),h=ae("legIntVendors_"+s),J?(t=se("consentUUID"),n=se("sp_su"),o=se("authId")||_sp_.config.authId,null==t&&$("consentUUID",t=Q(),365),null==o&&$("authId",o=Q(),365),function(){var t={hasCsp:"true",accountId:a,env:"prod",metadata:'{"gdpr":{}}',propertyId:s,scriptVersion:scriptVersion,scriptType:scriptType};if(p)var n=G(X(o=proxyEndpoint+"/jsonp/wrapper/v2/meta-data",t),"handleMetaDataForJsonP");else{var o=e+"/wrapper/v2/meta-data";void 0===(n=JSON.parse(H(X(o,t))))?q("010","MetaDataCall failed"):(f=(D=n).gdpr.applies,k()),oe("metaData_"+s,D)}}(),g=_sp_.config.messageDiv,l=_sp_.config.pmDiv,u="undefined"!=typeof _sp_&&_sp_.config&&_sp_.config.pmId?_sp_.config.pmId:1196474,y=!("undefined"==typeof _sp_||!_sp_.config||!0!==_sp_.config.buildMessageComponents),b=function(){F(l),F(g),W(),console.log("Messaging executed!")},A=function(){B(l),F(g)},L=function(){F(l),F(g),function(){var t="/wrapper/v2/choice/consent-all",n=p?proxyEndpoint+"/jsonp"+t:e+t,r=ge({hasCsp:"true",authId:o,accountId:a,env:"prod",includeCustomVendorsRes:"true",metadata:JSON.stringify(D),propertyId:s,withSiteActions:"true",ch:E,scriptVersion:scriptVersion,scriptType:scriptType}),i=n+"?"+r;if(p)G(i,"handleAcceptAllResponse");else{var c=H(i);ne(JSON.parse(c))}}()},U=function(){F(l),F(g),p?G(proxyEndpoint+"/jsonp/consent/tcfv2/consent/v3/"+s+"/li-only","handleLiOnlyResponse"):ee(JSON.parse(H(e+"/consent/tcfv2/consent/v3/"+s+"/li-only")))},x=function(){F(l),F(g),function(){var t="/wrapper/v2/choice/reject-all",n=p?proxyEndpoint+"/jsonp"+t:e+t,r=ge({hasCsp:"true",authId:o,accountId:a,env:"prod",includeCustomVendorsRes:"true",metadata:JSON.stringify(D),propertyId:s,withSiteActions:"true",ch:E,scriptVersion:scriptVersion,scriptType:scriptType}),i=n+"?"+r;if(p)G(i,"handleRejectAllResponse");else{var c=H(n+"?"+r);te(JSON.parse(c))}}()},P=function(){return m},K=function(){return _},z=function(){return de()},Y=function(){return V},Z=function(){return re("authId"),re("consentUUID"),ie("metaData_"+s),re("consentDate_"+s),ie("consentStatus_"+s),ie("euconsent-v2_"+s),ie("localState_"+s),ie("nonKeyedLocalState_"+s),ie("vendorGrants_"+s),ie("acceptedVendors_"+s),ie("acceptedCategories_"+s),ie("legIntVendors_"+s),ie("legIntCategories_"+s),re("sp_su"),!0},pe=function(){!function(t){if(null===m||t||!m.consentedAll){var n=(p?proxyEndpoint+"/jsonp":e)+"/wrapper/v2/consent-status",r={hasCsp:"true",accountId:a,env:"prod",localState:j,nonKeyedLocalState:I,metadata:JSON.stringify(D),propertyId:s,withSiteActions:"true",authId:o,ch:E,scriptVersion:scriptVersion,scriptType:scriptType};if(p)G(X(n,r),"handleGetConsentStatusForJsonP");else{var i=JSON.parse(H(X(n,r)));void 0!==_typeof(i.consentStatusData.gdpr)&&(N=!0,ce(i.consentStatusData.gdpr.consentStatus,i.consentStatusData.gdpr.consentUUID,i.consentStatusData.gdpr.dateCreated,i.consentStatusData.gdpr.euconsent,i.consentStatusData.gdpr.grants,i.consentStatusData.gdpr.acceptedVendors,i.consentStatusData.gdpr.legIntVendors,i.consentStatusData.gdpr.legIntCategories))}}}("true"),W()},_sp_.executeMessaging=b,_sp_.loadPrivacyManagerModal=A,_sp_.acceptAll=L,_sp_.continue=U,_sp_.reject=x,_sp_.consentStatus=P,_sp_.getTcString=K,_sp_.getQrCodeUrl=z,_sp_.getMessageData=Y,_sp_.clearUserData=Z,_sp_.updateConsentStatus=pe,!0===R&&(window.executeMessaging=b,window.loadPrivacyManagerModal=A,window.acceptAll=L,window.spContinue=U,window.reject=x,window.consentStatus=P,window.getTcString=K,window.getQrCodeUrl=z,window.getMessageData=Y,window.clearUserData=Z,window.updateConsentStatus=pe),c||_sp_.executeMessaging(),M||function(){if(p){G(proxyEndpoint+"/jsonp/consent/tcfv2/vendor-list/categories?siteId="+s+"&consentLanguage="+i,"handleMessageDataForJsonP")}else V=JSON.parse(H(e+"/consent/tcfv2/vendor-list/categories?siteId="+s+"&consentLanguage="+i)),le()}()):q("005","No Configuration Found"))}function P(){J("onConsentReady",[t,_,C,m,S])}function k(){J("onMetaDataReceived",[D])}function q(e,t,n){J("onError",[e,t,n])}function B(e){var t=document.getElementById(e);t&&(t.style.display="block",e==l&&J("secondLayerShown"),e==g&&J("firstLayerShown"))}function F(e){var t=document.getElementById(e);if(t){var n="none"!==t.style.display&&null!==t.offsetParent;t.style.display="none",e===l&&n&&J("secondLayerClosed"),e===g&&n&&J("firstLayerClosed")}}function H(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}function H(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),200===t.status?t.responseText:(q(t.status,t.statusText),null)}catch(e){return q("404","Request failed:",e),null}}function G(e,t,n){var o,a=document.createElement("script"),s=document.getElementsByTagName("head")[0]||document.body;n&&(o=setTimeout((function(){window[t]=function(){},s.removeChild(a)}),n));var r=e.indexOf("?")>=0?"&":"?";a.src=e+r+"callback="+t,a.onerror=function(){o&&clearTimeout(o),window[t]=function(){},s.removeChild(a),q("009","Script-Error while processing JSONP-Request for "+t)},s.appendChild(a)}function K(e,t){var n="object"===_typeof(e)&&e instanceof Date?e:new Date(e),o="object"===_typeof(t)&&t instanceof Date?t:new Date(t),a=n.getTime(),s=o.getTime();return a<s?-1:a>s?1:0}function X(e,t){var n=e+"?",o=[];for(var a in t)t.hasOwnProperty(a)&&o.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]));return n+o.join("&")}function Q(){for(var e,t="0123456789abcdef".split(""),n=[],o=Math.random,a=0;a<36;a++)8===a||13===a||18===a||23===a?n[a]="-":14===a?n[a]="4":(e=0|16*o(),n[a]=t[19===a?3&e|8:e]);return n.join("")}function $(e,t,n){var o="";if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),o="; expires="+a.toUTCString(),domain=void 0!==O?"; domain="+O:""}document.cookie=e+"="+encodeURIComponent(t)+o+domain+"; path=/"}function z(e){if(e.campaigns&&Array.isArray(e.campaigns))for(var t=0;t<e.campaigns.length;t++){var n=e.campaigns[t];if(n.message&&n.message.message_json)return U=n.messageMetaData,L=n.messageMetaData.messageId,J("onMessageReceivedData",[U]),n.message.message_json}return!1}function W(){if(c=!1,null===m||!m.consentedAll||(null!==d&&(1===K(D.gdpr.legalBasisChangeDate,d)&&(m.legalBasisChanges=!0,c=!0),1===K(D.gdpr.additionsChangeDate,d)&&(m.vendorListAdditions=!0,c=!0)),c)){var o=(p?proxyEndpoint+"/jsonp":e)+"/wrapper/v2/messages?hasCsp=true&env=prod&body="+Y({accountId:a,campaignEnv:"prod",campaigns:{gdpr:{consentStatus:m,hasLocalData:N,targetingParams:{}}},clientMMSOrigin:e,hasCSP:!0,includeData:{localState:{type:"string"},actions:{type:"RecordString"},cookies:{type:"RecordString"}},propertyHref:r,propertyId:s})+"&localState="+Y(j)+"&metadata="+Y(D)+"&nonKeyedLocalState="+Y(I)+"&ch="+E+"&scriptVersion="+scriptVersion+"&scriptType="+scriptType;if(p)var i=G(o,"handleGetMessagesForJsonP");else{i=JSON.parse(H(o));j=i.localState,oe("localState_"+s,JSON.parse(i.localState)),I=i.nonKeyedLocalState,oe("nonKeyedLocalState_"+s,JSON.parse(i.nonKeyedLocalState)),z(i)?B(g):P()}}else P();var c;!function(){if(function(e){if(!n){var t=Math.random();n=t<e,$("sp_su",JSON.stringify(n),365)}}(D.gdpr.sampleRate),"true"===n){var o={gdpr:{applies:!0,consentStatus:m,accountId:a,euconsent:_,mmsDomain:e,propertyId:s,siteId:s,pubData:{},uuid:t,sampleRate:D.gdpr.sampleRate,withSiteActions:!0}};if(U&&(o.gdpr.categoryId=U.categoryId,o.gdpr.subCategoryId=U.subCategoryId,o.gdpr.msgId=U.messageId,o.gdpr.prtnUUID=U.prtnUUID),p)Z("/wrapper/v2/pv-data",o,"handlePvResponse");else{var r=pe(e+"/wrapper/v2/pv-data?hasCsp=true&env=prod&ch="+E+"&scriptVersion="+scriptVersion+"&scriptType="+scriptType);r.onreadystatechange=function(){4===r.readyState&&200===r.status?console.log("PV-Daten send:",r.responseText):4===r.readyState&&q("PV-ERROR:"+r.status,r.responseText)},r.send(JSON.stringify(o))}}}()}function Y(e){return"string"==typeof e?encodeURIComponent(e):encodeURIComponent(JSON.stringify(e))}function Z(e,t,n){var o=proxyEndpoint+"/post"+e,a={hasCsp:!0,env:env,ch:E,scriptVersion:scriptVersion,scriptType:scriptType};G(o+"?body="+encodeURIComponent(JSON.stringify(t))+"&"+ge(a),n)}function ee(n){var r={accountId:a,applies:f,authId:o,messageId:L,mmsDomain:e,propertyId:s,pubData:{},includeData:{actions:{type:"RecordString"},customVendorsResponse:{type:"RecordString"}},uuid:t,sampleRate:D.gdpr.sampleRate,sendPVData:ue(),pmSaveAndExitVariables:n};if(p)Z("/wrapper/v2/choice/gdpr/1",r,"handleLiOnlyCall");else{var i=pe(e+"/wrapper/v2/choice/gdpr/1?hasCsp=true&env=prod&ch="+E+"&scriptVersion="+scriptVersion+"&scriptType="+scriptType);i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var e=JSON.parse(i.responseText);ce(e.consentStatus,e.uuid,e.dateCreated,e.euconsent,e.grants,e.categories,e.vendors,e.legIntVendors,e.legIntCategories)}else q(i.status,i.responseText)},i.send(JSON.stringify(r))}}function te(n){b=n.gdpr.consentStatus.granularStatus,A=n.gdpr.consentAllRef,f=n.gdpr.gdprApplies,_=n.gdpr.euconsent,S=n.gdpr.categories,m=n.gdpr.consentStatus,C=n.gdpr.grants,w=n.gdpr.vendors,h=n.gdpr.legIntVendors,v=n.gdpr.legIntCategories;var r={accountId:a,applies:f,authId:o,messageId:L,mmsDomain:e,propertyId:s,pubData:{},includeData:{actions:{type:"RecordString"},customVendorsResponse:{type:"RecordString"}},uuid:t,sampleRate:D.gdpr.sampleRate,sendPVData:ue()},i="/wrapper/v2/choice/gdpr/13";if(p)Z(i,r,"handleRejectAllCall");else{var c=pe(e+i+"?hasCsp=true&env=prod&ch="+E+"&scriptVersion="+scriptVersion+"&scriptType="+scriptType);c.onreadystatechange=function(){if(4===c.readyState&&200===c.status){var e=JSON.parse(c.responseText);ce(e.consentStatus,e.uuid,e.dateCreated,e.euconsent,e.grants,e.categories,e.vendors,e.legIntVendors,e.legIntCategories)}else q("error:",c.responseText)},c.send(JSON.stringify(r))}}function ne(n){b=n.gdpr.consentStatus.granularStatus,A=n.gdpr.consentAllRef,f=n.gdpr.gdprApplies,_=n.gdpr.euconsent,S=n.gdpr.categories,m=n.gdpr.consentStatus,C=n.gdpr.grants,w=n.gdpr.vendors,h=n.gdpr.legIntVendors,v=n.gdpr.legIntCategories;var r="/wrapper/v2/choice/gdpr/11",i={accountId:a,applies:f,authId:o,messageId:L,mmsDomain:e,propertyId:s,pubData:{},includeData:{actions:{type:"RecordString"},customVendorsResponse:{type:"RecordString"}},uuid:t,sampleRate:D.gdpr.sampleRate,sendPVData:ue(),consentAllRef:A,granularStatus:b,vendorListId:n.gdpr.vendorListId};if(p)Z(r,i,"handleJsonpAcceptAllCall");else{var c=pe(e+r+"?hasCsp=true&env=prod&ch="+E+"&scriptVersion="+scriptVersion+"&scriptType="+scriptType);c.onreadystatechange=function(){if(4===c.readyState&&200===c.status){var e=JSON.parse(c.responseText);ce(n.gdpr.consentStatus,e.uuid,e.dateCreated,_,n.gdpr.grants,n.gdpr.categories,n.gdpr.vendors,n.gdpr.legIntVendors,n.gdpr.legIntCategories)}else q("error:",c.responseText)},c.send(JSON.stringify(i))}}function oe(e,t){if(null!=t&&""!==t&&("object"!==_typeof(t)||0!==Object.keys(t).length))if(void 0===window.localStorage||disableLocalStorage)$(e,JSON.stringify(t),365);else try{window.localStorage.setItem(e,JSON.stringify(t))}catch(n){$(e,JSON.stringify(t),365)}}function ae(e){if(void 0===window.localStorage||disableLocalStorage)return JSON.parse(decodeURIComponent(se(e)));try{return JSON.parse(window.localStorage.getItem(e))}catch(t){return JSON.parse(decodeURIComponent(se(e)))}}function se(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var o=t[n].trim();if(0===o.indexOf(e+"="))return decodeURIComponent(o.substring((e+"=").length,o.length))}return null}function re(e){var t="";void 0!==O&&(t="; domain="+O),document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"+t+"; path=/;"}function ie(e){if(void 0===window.localStorage||disableLocalStorage)re(e);else try{window.localStorage.removeItem(e)}catch(t){re(e)}}function ce(e,n,o,a,r,i,c,p,d){m=e,oe("consentStatus_"+s,e),t=n,$("consentUUID",n,365),consentDate=o,$("consentDate_"+s,o,365),_=a,oe("euconsent-v2_"+s,a),oe("vendorGrants_"+s,r),C=r,oe("acceptedCategories_"+s,i),S=i,oe("acceptedVendors_"+s,c),w=c,oe("legIntCategories_"+s,d),v=d,oe("legIntVendors_"+s,p),h=p,J("onConsentStatusReceived",[m]),P()}function pe(e){var t=new XMLHttpRequest;return t.open("POST",e,!1),t.setRequestHeader("accept","*/*"),t.setRequestHeader("accept-language","de,en;q=0.9"),t.setRequestHeader("content-type","application/json"),t}function de(){var e="";if(null!=T){var t=(new Date).toISOString();e+="&timestamp="+encodeURIComponent(t),e+="&second_screen_timeout="+encodeURIComponent(T)}return _sp_.config.qrUrl+encodeURIComponent(_sp_.config.pmUrl+"?authid="+o+"&consentlanguage="+i+"&propertyid="+s+"&propertyhref="+r+"&accountid="+a+"&pmid="+u+e)}function le(){if(y){var e=V;!function(e){if(_sp_.config.qrId){var t=document.getElementById(_sp_.config.qrId);if(t){var n=(new Date).getTime(),o=-1===e.indexOf("?")?"?":"&";t.src=e+o+"t="+n}else q("010","qr ID is missing in config")}}(de());for(var t=document.getElementsByClassName("all_vendor_count"),n=0;n<t.length;n++)t[n].innerHTML=e.allVendorCount;var o=document.getElementsByClassName("iab_vendor_count");for(n=0;n<o.length;n++)o[n].innerHTML=e.iabVendorCount;var a=document.getElementById("stack_template");if(!a)return void console.error("Template with ID 'stack_template' not found.");for(var s=a.innerHTML,r=document.getElementsByClassName("sp_stacks"),i=document.getElementsByClassName("sp_purposes"),c=document.createDocumentFragment(),p=document.createDocumentFragment(),d=0;d<e.categories.length;d++){var l=e.categories[d],u=s;u=u.replace("{name}",l.name||"").replace("{description}",l.description||"");var g=document.createElement("div");for(g.innerHTML=u;g.firstChild;)"IAB_STACK"===l.type?c.appendChild(g.firstChild):"IAB_PURPOSE"===l.type&&p.appendChild(g.firstChild)}for(var f=0;f<r.length;f++)r[f].appendChild(c.cloneNode(!0));for(f=0;f<i.length;f++)i[f].appendChild(p.cloneNode(!0));M=!0,J("onMessageComposed")}}function ue(){return"true"===n}function ge(e,t){var n=[],o=function(){if(!e.hasOwnProperty(a))return 1;var o=e[a],s=t?"".concat(t,"[").concat(a,"]"):a;null!==o&&"object"===_typeof(o)?Array.isArray(o)?o.forEach((function(e,t){n.push(ge(e,"".concat(s,"[").concat(t,"]")))})):n.push(ge(o,s)):n.push("".concat(encodeURIComponent(s),"=").concat(encodeURIComponent(o)))};for(var a in e)o();return n.join("&")}window._sp_=window._sp_||{},window._sp_.init=x,_sp_.config?x(_sp_.config):console.log("No Global Config found – waiting for sp_init(config)...")}();