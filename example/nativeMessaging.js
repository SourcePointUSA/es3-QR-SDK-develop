function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var env="prod",scriptVersion="3.0.3",scriptType="nativeqr";window.JSON||(window.JSON={stringify:function(e){var t=_typeof(e);if("object"!=t||null===e)return"string"==t&&(e='"'+e+'"'),String(e);var n,o,a=[],s=e&&e.constructor==Array;for(n in e)"string"==(t=_typeof(o=e[n]))?o='"'+o+'"':"object"==t&&null!==o&&(o=JSON.stringify(o)),a.push((s?"":'"'+n+'":')+String(o));return(s?"[":"{")+String(a)+(s?"]":"}")}}),JSON.parse=function(e){try{return new Function("return "+e)()}catch(e){return onError("001","JSON.parse: ungültiges JSON-Format"),null}};var isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)};function sp_init(e){window._sp_=window._sp_||{},_sp_.config=e,"function"==typeof _sp_.init?_sp_.init(e):onError("003","No init method found")}Object.keys||(Object.keys=function(e){e!==Object(e)&&onError("002","Object.keys called on a non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),function(){window.handleMetaDataForJsonP=function(e){f=e.gdpr.applies,ae("metaData_"+s,D=e),k()},window.handleMessageDataForJsonP=function(e){V=e,ue()},window.handleGetMessagesForJsonP=function(e){U=e.localState,ae("localState_"+s,JSON.parse(e.localState)),I=e.nonKeyedLocalState,ae("nonKeyedLocalState_"+s,JSON.parse(e.nonKeyedLocalState)),z(e)?B(g):P()},window.handleGetConsentStatusForJsonP=function(e){void 0!==_typeof(e.consentStatusData.gdpr)&&(N=!0,pe(e.consentStatusData.gdpr.consentStatus,e.consentStatusData.gdpr.uuid,e.consentStatusData.gdpr.dateCreated,e.consentStatusData.gdpr.euconsent,e.consentStatusData.gdpr.grants,e.consentStatusData.gdpr.acceptedCategories,e.consentStatusData.gdpr.acceptedVendors,e.consentStatusData.gdpr.legIntVendors,e.consentStatusData.gdpr.legIntCategories))},window.handlePvResponse=function(e){return!0},window.handleAcceptAllResponse=function(e){e&&e.gdpr?oe(e):q("Invalid response in handleAcceptAllResponse")},window.handleJsonpAcceptAllCall=function(e){e?pe(m,e.uuid,e.dateCreated,_,C,S,w,h,v):q("Invalid response in handleJsonpAcceptAllCall")},window.handleLiOnlyResponse=function(e){te(e)},window.handleLiOnlyCall=function(e){pe(e.consentStatus,e.uuid,e.dateCreated,e.euconsent,e.grants,e.acceptedCategories,e.acceptedVendors,e.legIntVendors,e.legIntCategories)},window.handleRejectAllResponse=function(e){ne(e)},window.handleRejectAllCall=function(e){pe(e.consentStatus,e.uuid,e.dateCreated,e.euconsent,e.grants,e.acceptedCategories,e.acceptedVendors,e.legIntVendors,e.legIntCategories)};var e,t,n,o,a,s,r,i,c,p,d,l,u,g,f,y,_,m,S,v,h,w,I,C,D,R,O,T,V,J=function(e,t){var n=window._sp_.config.events[e];"function"==typeof n&&n.apply(null,t||[])},N=!1,b=null,A=null,E=Math.floor(1e6*Math.random()),j=null,L=null,U=null,M=!1;function x(b){if(_sp_.config=b,b=b||_sp_&&_sp_.config,J("initReceivedData",[b]),window._sp_.config.events=window._sp_.config.events||{},_sp_.version=scriptVersion,a=_sp_.config.accountId,i=_sp_.config.consentLanguage||"EN",c=_sp_.config.isSPA,p=_sp_.config.isJSONp){if(proxyEndpoint=_sp_.config.proxyEndpoint,"undefined"==typeof proxyEndpoint)return void q("004","jsonPProxyEndpoint is undefined");proxyEndpoint=_sp_.config.proxyEndpoint.replace(/\/+$/,"")}e=_sp_.config.baseEndpoint.replace(/\/+$/,""),R=_sp_.config.exposeGlobals,disableLocalStorage=_sp_.config.disableLocalStorage,O=_sp_.config.cookieDomain,T=_sp_.config.secondScreenTimeOut,r=_sp_.config.propertyHref,s=_sp_.config.propertyId,targetingParams=_sp_.config.targetingParams,d=re("consentDate_"+s),_=se("euconsent-v2_"+s),m=se("consentStatus_"+s)||null,U=se("localState_"+s),D=se("metaData_"+s),C=se("vendorGrants_"+s),I=se("nonKeyedLocalState_"+s),S=se("acceptedCategories_"+s),w=se("acceptedVendors_"+s),v=se("legIntCategories_"+s),h=se("legIntVendors_"+s),b?(t=re("consentUUID"),n=re("sp_su"),o=re("authId")||_sp_.config.authId,null==t&&$("consentUUID",t=Q(),365),null==o&&$("authId",o=Q(),365),function(){var t={hasCsp:"true",accountId:a,env:"prod",metadata:'{"gdpr":{}}',propertyId:s,scriptVersion:scriptVersion,scriptType:scriptType};if(p)var n=G(X(o=proxyEndpoint+"/jsonp/wrapper/v2/meta-data",t),"handleMetaDataForJsonP");else{var o=e+"/wrapper/v2/meta-data";void 0===(n=JSON.parse(H(X(o,t))))?q("010","MetaDataCall failed"):(f=(D=n).gdpr.applies,k()),ae("metaData_"+s,D)}}(),g=_sp_.config.messageDiv,l=_sp_.config.pmDiv,u="undefined"!=typeof _sp_&&_sp_.config&&_sp_.config.pmId?_sp_.config.pmId:1196474,y=!("undefined"==typeof _sp_||!_sp_.config||!0!==_sp_.config.buildMessageComponents),function(){var r=function(e){e&&(targetingParams=e),F(l),F(g),W(),console.log("Messaging executed!")},i=function(){ee(le()),B(l),F(g)},c=function(){F(l),F(g),function(){var t="/wrapper/v2/choice/consent-all",n=p?proxyEndpoint+"/jsonp"+t:e+t,r=fe({hasCsp:"true",authId:o,accountId:a,env:"prod",includeCustomVendorsRes:"true",metadata:JSON.stringify(D),propertyId:s,withSiteActions:"true",ch:E,scriptVersion:scriptVersion,scriptType:scriptType}),i=n+"?"+r;if(p)G(i,"handleAcceptAllResponse");else{var c=H(i);oe(JSON.parse(c))}}()},u=function(){F(l),F(g),p?G(proxyEndpoint+"/jsonp/consent/tcfv2/consent/v3/"+s+"/li-only","handleLiOnlyResponse"):te(JSON.parse(H(e+"/consent/tcfv2/consent/v3/"+s+"/li-only")))},f=function(){F(l),F(g),function(){var t="/wrapper/v2/choice/reject-all",n=p?proxyEndpoint+"/jsonp"+t:e+t,r=fe({hasCsp:"true",authId:o,accountId:a,env:"prod",includeCustomVendorsRes:"true",metadata:JSON.stringify(D),propertyId:s,withSiteActions:"true",ch:E,scriptVersion:scriptVersion,scriptType:scriptType}),i=n+"?"+r;if(p)G(i,"handleRejectAllResponse");else{var c=H(n+"?"+r);ne(JSON.parse(c))}}()},y=function(){return m},O=function(){return _},T=function(){return le()},b=function(){return V},A=function(){return ie("authId"),ie("consentUUID"),ce("metaData_"+s),ie("consentDate_"+s),ce("consentStatus_"+s),ce("euconsent-v2_"+s),ce("localState_"+s),ce("nonKeyedLocalState_"+s),ce("vendorGrants_"+s),ce("acceptedVendors_"+s),ce("acceptedCategories_"+s),ce("legIntVendors_"+s),ce("legIntCategories_"+s),ie("sp_su"),F(l),F(g),consentDate=null,t=null,n=null,o=null,d=null,_=null,m=null,S=null,v=null,h=null,w=null,I=null,C=null,U=null,!0},j=function(){F(l),F(g),function(t){if(null!==m&&!t&&m.consentedAll)return;var n=(p?proxyEndpoint+"/jsonp":e)+"/wrapper/v2/consent-status",r={hasCsp:"true",accountId:a,env:"prod",localState:U,nonKeyedLocalState:I,metadata:JSON.stringify(D),propertyId:s,withSiteActions:"true",authId:o,ch:E,scriptVersion:scriptVersion,scriptType:scriptType};if(p)G(X(n,r),"handleGetConsentStatusForJsonP");else{var i=JSON.parse(H(X(n,r)));void 0!==_typeof(i.consentStatusData.gdpr)&&(N=!0,pe(i.consentStatusData.gdpr.consentStatus,i.consentStatusData.gdpr.consentUUID,i.consentStatusData.gdpr.dateCreated,i.consentStatusData.gdpr.euconsent,i.consentStatusData.gdpr.grants,i.consentStatusData.gdpr.acceptedVendors,i.consentStatusData.gdpr.legIntVendors,i.consentStatusData.gdpr.legIntCategories))}}("true"),W()};_sp_.executeMessaging=r,_sp_.loadPrivacyManagerModal=i,_sp_.acceptAll=c,_sp_.continue=u,_sp_.reject=f,_sp_.consentStatus=y,_sp_.getTcString=O,_sp_.getQrCodeUrl=T,_sp_.getMessageData=b,_sp_.clearUserData=A,_sp_.updateConsentStatus=j,!0===R&&(window.executeMessaging=r,window.loadPrivacyManagerModal=i,window.acceptAll=c,window.spContinue=u,window.reject=f,window.consentStatus=y,window.getTcString=O,window.getQrCodeUrl=T,window.getMessageData=b,window.clearUserData=A,window.updateConsentStatus=j);J("spObjectReady")}(),c||_sp_.executeMessaging(),M||function(){if(p){G(proxyEndpoint+"/jsonp/consent/tcfv2/vendor-list/categories?siteId="+s+"&consentLanguage="+i,"handleMessageDataForJsonP")}else V=JSON.parse(H(e+"/consent/tcfv2/vendor-list/categories?siteId="+s+"&consentLanguage="+i)),ue()}()):q("005","No Configuration Found")}function P(){J("onConsentReady",[t,_,C,m,S])}function k(){J("onMetaDataReceived",[D])}function q(e,t,n){J("onError",[e,t,n])}function B(e){var t=document.getElementById(e);t&&(t.style.display="block",e==l&&J("secondLayerShown"),e==g&&J("firstLayerShown"))}function F(e){var t=document.getElementById(e);if(t){var n="none"!==t.style.display&&null!==t.offsetParent;t.style.display="none",e===l&&n&&J("secondLayerClosed"),e===g&&n&&J("firstLayerClosed")}}function H(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}function H(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),200===t.status?t.responseText:(q(t.status,t.statusText),null)}catch(e){return q("404","Request failed:",e),null}}function G(e,t,n){var o,a=document.createElement("script"),s=document.getElementsByTagName("head")[0]||document.body;n&&(o=setTimeout((function(){window[t]=function(){},s.removeChild(a)}),n));var r=e.indexOf("?")>=0?"&":"?";a.src=e+r+"callback="+t,a.onerror=function(){o&&clearTimeout(o),window[t]=function(){},s.removeChild(a),q("009","Script-Error while processing JSONP-Request for "+t)},s.appendChild(a)}function K(e,t){var n="object"===_typeof(e)&&e instanceof Date?e:new Date(e),o="object"===_typeof(t)&&t instanceof Date?t:new Date(t),a=n.getTime(),s=o.getTime();return a<s?-1:a>s?1:0}function X(e,t){var n=e+"?",o=[];for(var a in t)t.hasOwnProperty(a)&&o.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]));return n+o.join("&")}function Q(){for(var e,t="0123456789abcdef".split(""),n=[],o=Math.random,a=0;a<36;a++)8===a||13===a||18===a||23===a?n[a]="-":14===a?n[a]="4":(e=0|16*o(),n[a]=t[19===a?3&e|8:e]);return n.join("")}function $(e,t,n){var o="";if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),o="; expires="+a.toUTCString(),domain=void 0!==O?"; domain="+O:""}document.cookie=e+"="+encodeURIComponent(t)+o+domain+"; path=/"}function z(e){if(e.campaigns&&Array.isArray(e.campaigns))for(var t=0;t<e.campaigns.length;t++){var n=e.campaigns[t];if(n.message&&n.message.message_json)return L=n.messageMetaData,j=n.messageMetaData.messageId,J("onMessageReceivedData",[L]),n.message.message_json}return!1}function W(){if(l=!1,null===m||!m.consentedAll||(null!==d&&(1===K(D.gdpr.legalBasisChangeDate,d)&&(m.legalBasisChanges=!0,l=!0),1===K(D.gdpr.additionsChangeDate,d)&&(m.vendorListAdditions=!0,l=!0)),l)){var o={accountId:a,campaignEnv:"prod",campaigns:{gdpr:{consentStatus:m,hasLocalData:N,targetingParams:targetingParams}},clientMMSOrigin:e,hasCSP:!0,includeData:{localState:{type:"string"},actions:{type:"RecordString"},cookies:{type:"RecordString"}},propertyHref:r,propertyId:s},i=(p?proxyEndpoint+"/jsonp":e)+"/wrapper/v2/messages?hasCsp=true&env=prod&body="+Y(o)+"&localState="+Y(U)+"&metadata="+Y(D)+"&nonKeyedLocalState="+Y(I)+"&ch="+E+"&scriptVersion="+scriptVersion+"&scriptType="+scriptType;if(p)var c=G(i,"handleGetMessagesForJsonP");else{c=JSON.parse(H(i));U=c.localState,ae("localState_"+s,JSON.parse(c.localState)),I=c.nonKeyedLocalState,ae("nonKeyedLocalState_"+s,JSON.parse(c.nonKeyedLocalState)),z(c)?B(g):P()}}else P();var l;!function(){if(function(e){if(!n){var t=Math.random();n=t<e,$("sp_su",JSON.stringify(n),365)}}(D.gdpr.sampleRate),"true"===n){var o={gdpr:{applies:!0,consentStatus:m,accountId:a,euconsent:_,mmsDomain:e,propertyId:s,siteId:s,pubData:{},uuid:t,sampleRate:D.gdpr.sampleRate,withSiteActions:!0}};if(L&&(o.gdpr.categoryId=L.categoryId,o.gdpr.subCategoryId=L.subCategoryId,o.gdpr.msgId=L.messageId,o.gdpr.prtnUUID=L.prtnUUID),p)Z("/wrapper/v2/pv-data",o,"handlePvResponse");else{var r=de(e+"/wrapper/v2/pv-data?hasCsp=true&env=prod&ch="+E+"&scriptVersion="+scriptVersion+"&scriptType="+scriptType);r.onreadystatechange=function(){4===r.readyState&&(200===r.status?console.log("PV-Daten send:",r.responseText):4===r.readyState&&q("PV-ERROR:"+r.status,r.responseText))},r.send(JSON.stringify(o))}}}()}function Y(e){return"string"==typeof e?encodeURIComponent(e):encodeURIComponent(JSON.stringify(e))}function Z(e,t,n){var o=proxyEndpoint+"/post"+e,a={hasCsp:!0,env:env,ch:E,scriptVersion:scriptVersion,scriptType:scriptType};G(o+"?body="+encodeURIComponent(JSON.stringify(t))+"&"+fe(a),n)}function ee(e){if(_sp_.config.qrId){var t=document.getElementById(_sp_.config.qrId);if(t){var n=(new Date).getTime(),o=-1===e.indexOf("?")?"?":"&";t.src=e+o+"t="+n}else q("010","qr ID is missing in config")}}function te(n){var r={accountId:a,applies:f,authId:o,messageId:j,mmsDomain:e,propertyId:s,pubData:{},includeData:{actions:{type:"RecordString"},customVendorsResponse:{type:"RecordString"}},uuid:t,sampleRate:D.gdpr.sampleRate,sendPVData:ge(),pmSaveAndExitVariables:n};if(p)Z("/wrapper/v2/choice/gdpr/1",r,"handleLiOnlyCall");else{var i=de(e+"/wrapper/v2/choice/gdpr/1?hasCsp=true&env=prod&ch="+E+"&scriptVersion="+scriptVersion+"&scriptType="+scriptType);i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status){var e=JSON.parse(i.responseText);pe(e.consentStatus,e.uuid,e.dateCreated,e.euconsent,e.grants,e.categories,e.vendors,e.legIntVendors,e.legIntCategories)}else q(i.status,i.responseText)},i.send(JSON.stringify(r))}}function ne(n){b=n.gdpr.consentStatus.granularStatus,A=n.gdpr.consentAllRef,f=n.gdpr.gdprApplies,_=n.gdpr.euconsent,S=n.gdpr.categories,m=n.gdpr.consentStatus,C=n.gdpr.grants,w=n.gdpr.vendors,h=n.gdpr.legIntVendors,v=n.gdpr.legIntCategories;var r={accountId:a,applies:f,authId:o,messageId:j,mmsDomain:e,propertyId:s,pubData:{},includeData:{actions:{type:"RecordString"},customVendorsResponse:{type:"RecordString"}},uuid:t,sampleRate:D.gdpr.sampleRate,sendPVData:ge()},i="/wrapper/v2/choice/gdpr/13";if(p)Z(i,r,"handleRejectAllCall");else{var c=de(e+i+"?hasCsp=true&env=prod&ch="+E+"&scriptVersion="+scriptVersion+"&scriptType="+scriptType);c.onreadystatechange=function(){if(4===c.readyState)if(200===c.status){var e=JSON.parse(c.responseText);pe(e.consentStatus,e.uuid,e.dateCreated,e.euconsent,e.grants,e.categories,e.vendors,e.legIntVendors,e.legIntCategories)}else q("error:",c.responseText)},c.send(JSON.stringify(r))}}function oe(n){b=n.gdpr.consentStatus.granularStatus,A=n.gdpr.consentAllRef,f=n.gdpr.gdprApplies,_=n.gdpr.euconsent,S=n.gdpr.categories,m=n.gdpr.consentStatus,C=n.gdpr.grants,w=n.gdpr.vendors,h=n.gdpr.legIntVendors,v=n.gdpr.legIntCategories;var r="/wrapper/v2/choice/gdpr/11",i={accountId:a,applies:f,authId:o,messageId:j,mmsDomain:e,propertyId:s,pubData:{},includeData:{actions:{type:"RecordString"},customVendorsResponse:{type:"RecordString"}},uuid:t,sampleRate:D.gdpr.sampleRate,sendPVData:ge(),consentAllRef:A,granularStatus:b,vendorListId:n.gdpr.vendorListId};if(p)Z(r,i,"handleJsonpAcceptAllCall");else{var c=de(e+r+"?hasCsp=true&env=prod&ch="+E+"&scriptVersion="+scriptVersion+"&scriptType="+scriptType);c.onreadystatechange=function(){if(4===c.readyState)if(200===c.status){var e=JSON.parse(c.responseText);pe(n.gdpr.consentStatus,e.uuid,e.dateCreated,_,n.gdpr.grants,n.gdpr.categories,n.gdpr.vendors,n.gdpr.legIntVendors,n.gdpr.legIntCategories)}else q("error:",c)},c.send(JSON.stringify(i))}}function ae(e,t){if(null!=t&&""!==t&&("object"!==_typeof(t)||0!==Object.keys(t).length))if(void 0===window.localStorage||disableLocalStorage)$(e,JSON.stringify(t),365);else try{window.localStorage.setItem(e,JSON.stringify(t))}catch(n){$(e,JSON.stringify(t),365)}}function se(e){if(void 0===window.localStorage||disableLocalStorage)return JSON.parse(decodeURIComponent(re(e)));try{return JSON.parse(window.localStorage.getItem(e))}catch(t){return JSON.parse(decodeURIComponent(re(e)))}}function re(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var o=t[n].trim();if(0===o.indexOf(e+"="))return decodeURIComponent(o.substring((e+"=").length,o.length))}return null}function ie(e){var t="";void 0!==O&&(t="; domain="+O),document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"+t+"; path=/;"}function ce(e){if(void 0===window.localStorage||disableLocalStorage)ie(e);else try{window.localStorage.removeItem(e)}catch(t){ie(e)}}function pe(e,n,o,a,r,i,c,p,d){m=e,ae("consentStatus_"+s,e),t=n,$("consentUUID",n,365),consentDate=o,$("consentDate_"+s,o,365),_=a,ae("euconsent-v2_"+s,a),ae("vendorGrants_"+s,r),C=r,ae("acceptedCategories_"+s,i),S=i,ae("acceptedVendors_"+s,c),w=c,ae("legIntCategories_"+s,d),v=d,ae("legIntVendors_"+s,p),h=p,J("onConsentStatusReceived",[m]),P()}function de(e){var t=new XMLHttpRequest;return t.open("POST",e,!0),t.setRequestHeader("accept","*/*"),t.setRequestHeader("accept-language","de,en;q=0.9"),t.setRequestHeader("content-type","application/json"),t}function le(){var e="";if(null!=T){var t=(new Date).toISOString();e+="&timestamp="+encodeURIComponent(t),e+="&second_screen_timeout="+encodeURIComponent(T)}return _sp_.config.qrUrl+encodeURIComponent(_sp_.config.pmUrl+"?authid="+o+"&consentlanguage="+i+"&propertyid="+s+"&propertyhref="+r+"&accountid="+a+"&pmid="+u+e)}function ue(){if(y){var e=V;ee(le());for(var t=document.getElementsByClassName("all_vendor_count"),n=0;n<t.length;n++)t[n].innerHTML=e.allVendorCount;var o=document.getElementsByClassName("iab_vendor_count");for(n=0;n<o.length;n++)o[n].innerHTML=e.iabVendorCount;var a=document.getElementById("stack_template");if(!a)return void q("099","Template with ID 'stack_template' not found.");for(var s=a.innerHTML,r=document.getElementsByClassName("sp_stacks"),i=document.getElementsByClassName("sp_purposes"),c=document.createDocumentFragment(),p=document.createDocumentFragment(),d=0;d<e.categories.length;d++){var l=e.categories[d],u=s;u=u.replace("{name}",l.name||"").replace("{description}",l.description||"");var g=document.createElement("div");for(g.innerHTML=u;g.firstChild;)"IAB_STACK"===l.type?c.appendChild(g.firstChild):"IAB_PURPOSE"===l.type&&p.appendChild(g.firstChild)}for(var f=0;f<r.length;f++)r[f].appendChild(c.cloneNode(!0));for(f=0;f<i.length;f++)i[f].appendChild(p.cloneNode(!0));M=!0,J("onMessageComposed")}}function ge(){return"true"===n}function fe(e,t){var n=[],o=function(){if(!e.hasOwnProperty(a))return 1;var o=e[a],s=t?"".concat(t,"[").concat(a,"]"):a;null!==o&&"object"===_typeof(o)?Array.isArray(o)?o.forEach((function(e,t){n.push(fe(e,"".concat(s,"[").concat(t,"]")))})):n.push(fe(o,s)):n.push("".concat(encodeURIComponent(s),"=").concat(encodeURIComponent(o)))};for(var a in e)o();return n.join("&")}window._sp_=window._sp_||{},window._sp_.init=x,_sp_.config?x(_sp_.config):console.log("No Global Config found – waiting for sp_init(config)...")}();